option_settings:
  # Application settings
  aws:elasticbeanstalk:application:environment:
    STREAMLIT_SERVER_PORT: "8501"
    STREAMLIT_SERVER_ADDRESS: "0.0.0.0"
    STREAMLIT_SERVER_HEADLESS: "true"
    STREAMLIT_BROWSER_GATHER_USAGE_STATS: "false"
  
  # Platform settings
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
    ServiceRole: aws-elasticbeanstalk-service-role
  
  # Instance settings
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.small
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
    SecurityGroups: sg-xxxxxxxxx
  
  # Auto-scaling settings
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 3
    Cooldown: 360
  
  # Scaling triggers
  aws:autoscaling:trigger:
    MeasureName: CPUUtilization
    Statistic: Average
    Unit: Percent
    UpperThreshold: 70
    UpperBreachScaleIncrement: 1
    LowerThreshold: 30
    LowerBreachScaleIncrement: -1
    Period: 5
    BreachDuration: 5
    EvaluationPeriods: 1
  
  # Load balancer settings
  aws:elbv2:loadbalancer:
    IdleTimeout: 120
    ManagedSecurityGroup: sg-xxxxxxxxx
  
  # Load balancer listener
  aws:elbv2:listener:default:
    ListenerEnabled: true
    Protocol: HTTP
    Rules: default
  
  # Health check
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /_stcore/health
    HealthCheckInterval: 30
    HealthCheckTimeout: 5
    HealthyThresholdCount: 2
    UnhealthyThresholdCount: 3
    Port: 8501
    Protocol: HTTP
  
  # CloudWatch Logs
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7
  
  # Monitoring
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
  
  # Rolling updates
  aws:elasticbeanstalk:command:
    DeploymentPolicy: RollingWithAdditionalBatch
    BatchSizeType: Fixed
    BatchSize: 1
  
  # VPC settings
  aws:ec2:vpc:
    VPCId: vpc-xxxxxxxxx
    Subnets: subnet-xxxxxxxx,subnet-yyyyyyyy
    ELBSubnets: subnet-xxxxxxxx,subnet-yyyyyyyy
    ELBScheme: internet-facing
